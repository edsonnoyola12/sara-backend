<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distrito Falco - Grupo Santa Rita</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #f5f5f5; }
        .hero { background: linear-gradient(135deg, #bf360c 0%, #ff7043 100%); color: white; text-align: center; padding: 60px 20px; }
        .hero-brand { font-size: 0.9em; letter-spacing: 3px; margin-bottom: 20px; opacity: 0.9; }
        .hero h1 { font-size: 3.5em; font-family: Georgia, serif; margin-bottom: 15px; }
        .hero-tagline { font-size: 1.1em; opacity: 0.9; margin-bottom: 30px; }
        .hero-price { background: rgba(255,255,255,0.15); display: inline-block; padding: 15px 50px; border-radius: 50px; font-size: 1.4em; font-weight: bold; }
        .hero-location { margin-top: 25px; font-size: 1em; }
        .section-title { text-align: center; padding: 50px 20px 30px; }
        .section-title h2 { font-family: Georgia, serif; font-size: 2em; color: #333; border-bottom: 3px solid #bf360c; display: inline-block; padding-bottom: 10px; }
        .models { max-width: 1100px; margin: 0 auto; padding: 0 20px 50px; }
        .model-card { background: white; border-radius: 15px; overflow: hidden; margin-bottom: 40px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .model-image { width: 100%; height: 350px; object-fit: cover; }
        .model-content { padding: 30px; }
        .model-name { font-family: Georgia, serif; font-size: 2em; color: #bf360c; margin-bottom: 5px; }
        .model-desc { color: #666; font-style: italic; margin-bottom: 15px; font-size: 1.05em; }
        .model-phrase { background: #f8f9fa; padding: 15px 20px; border-radius: 10px; margin-bottom: 20px; color: #555; border-left: 4px solid #bf360c; }
        .specs { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .spec { background: #fbe9e7; padding: 20px 15px; border-radius: 12px; text-align: center; }
        .spec-icon { font-size: 1.8em; margin-bottom: 8px; }
        .spec-value { font-size: 1.5em; font-weight: bold; color: #bf360c; }
        .spec-label { font-size: 0.85em; color: #666; margin-top: 5px; }
        .model-price { font-size: 2.2em; font-weight: bold; color: #333; margin-bottom: 25px; }
        .buttons { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .btn { padding: 16px 20px; border-radius: 12px; text-decoration: none; color: white; font-weight: 600; text-align: center; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 1em; transition: transform 0.2s, opacity 0.2s; }
        .btn:hover { transform: translateY(-2px); opacity: 0.9; }
        .btn-whatsapp { background: #25D366; }
        .btn-video { background: #FF0000; }
        .btn-3d { background: #7C3AED; }
        .btn-location { background: #3B82F6; }
        .btn-disabled { background: #ccc; pointer-events: none; }
        .poi-section { max-width: 1100px; margin: 0 auto 50px; padding: 0 20px; }
        .poi-card { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .poi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        .poi-grid h4 { color: #bf360c; margin-bottom: 15px; }
        .poi-grid ul { list-style: none; color: #555; line-height: 2; }
        .footer { background: #bf360c; color: white; text-align: center; padding: 40px 20px; }
        .footer-brand { font-size: 1.3em; font-weight: bold; margin-bottom: 10px; }
        .footer-note { opacity: 0.8; font-size: 0.9em; }
        .loading { text-align: center; padding: 50px; font-size: 1.2em; color: #666; }
        @media (max-width: 768px) { .specs { grid-template-columns: repeat(2, 1fr); } .buttons { grid-template-columns: 1fr; } .hero h1 { font-size: 2.5em; } }
    </style>
</head>
<body>
    <div class="hero">
        <div class="hero-brand">G R U P O &nbsp; S A N T A &nbsp; R I T A</div>
        <h1>Distrito Falco</h1>
        <p class="hero-tagline">RESIDENCIAL PREMIUM EN GUADALUPE GOLD</p>
        <div class="hero-price" id="hero-price">Cargando precios...</div>
        <p class="hero-location"><span style="color:#ffeb3b">üìç</span> Guadalupe Gold, Calzada Solidaridad, Zac.</p>
    </div>
    <div class="section-title"><h2>Nuestros Modelos</h2></div>
    <div class="models" id="models-container"><div class="loading">‚è≥ Cargando modelos...</div></div>
    <div class="section-title"><h2>üìç ¬øQu√© hay cerca?</h2></div>
    <div class="poi-section">
        <div class="poi-card">
            <div class="poi-grid">
                <div><h4>üõí Comercio</h4><ul><li>üè™ City Club - 5 min</li><li>üè™ Walmart / Sam's Club - 8 min</li><li>üè† Home Depot - 8 min</li><li>üè¶ Zona bancaria - 10 min</li></ul></div>
                <div><h4>üè• Salud</h4><ul><li>üè• Hospitales Lomas - 5 min</li><li>üíä Farmacias - 3 min</li><li>ü©∫ Centro Platero - 8 min</li></ul></div>
                <div><h4>üéì Educaci√≥n</h4><ul><li>üìö Colegios privados</li><li>üéí Preparatorias</li><li>üè´ UAZ - 8 min</li></ul></div>
                <div><h4>üé° Entretenimiento</h4><ul><li>‚õ≥ Club de Golf Zacatecas</li><li>üèõÔ∏è Centro Hist√≥rico - 10 min</li><li>üçΩÔ∏è Restaurantes premium</li></ul></div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-brand">üèóÔ∏è Grupo Santa Rita</div>
        <p>M√°s de 50 a√±os construyendo hogares en Zacatecas</p>
        <p class="footer-note" id="footer-note">Precios vigentes | Incluye: Cocina integral, cl√≥sets, canceles en ba√±os</p>
        <p class="footer-note" style="margin-top: 15px; font-size: 0.7em; line-height: 1.5; max-width: 800px; margin-left: auto; margin-right: auto; text-align: justify;">‚ö†Ô∏è <strong>AVISO LEGAL:</strong> Disponibilidad sujeta a cambio. Las propiedades anunciadas est√°n sujetas a disponibilidad y pueden dejar de estar en venta sin previo aviso. El vendedor se reserva el derecho de modificar precios, caracter√≠sticas, acabados, planos arquitect√≥nicos, equipamiento y condiciones comerciales sin previo aviso. Fotograf√≠as, renders y planos son de car√°cter ilustrativo y pueden no representar con exactitud el producto final. Superficies y medidas aproximadas pueden variar al acabar la obra o mediciones oficiales. La informaci√≥n presentada no constituye compromiso contractual; las condiciones definitivas se establecer√°n en el contrato de compraventa. El comprador deber√° verificar informaci√≥n actualizada directamente con el vendedor o asesor autorizado antes de tomar decisiones de compra. No aplica con otras promociones.</p>
    </div>
    <script>
        const SUPABASE_URL = 'https://bpxnknoldqyjacvlxqzl.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJweG5rbm9sZHF5amFjdmx4cXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1MDAzMDcsImV4cCI6MjA2NTA3NjMwN30.rD8spXi1lWOQCzv3AXOA6bkQdBazaHPpj7RkkMn4MYk';
        const DEVELOPMENT = 'Distrito Falco';
        const WHATSAPP = '524921170835';
        const PHOTOS = {
            'Calandria': 'https://gruposantarita.com.mx/wp-content/uploads/2020/09/img01-5.jpg',
            'Colibr√≠': 'https://gruposantarita.com.mx/wp-content/uploads/2020/09/img04-4.jpg',
            'Chipre': 'https://gruposantarita.com.mx/wp-content/uploads/2020/09/img03-7.jpg',
            'Mirlo': 'https://gruposantarita.com.mx/wp-content/uploads/2020/09/img01-7.jpg'
        };
        const DEFAULT_PHOTO = 'https://gruposantarita.com.mx/wp-content/uploads/2020/11/DJI_0143.jpg';

        async function fetchModels() {
            const response = await fetch(`${SUPABASE_URL}/rest/v1/properties?development=eq.${encodeURIComponent(DEVELOPMENT)}&order=price.asc`, {
                headers: { 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` }
            });
            return response.json();
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(price);
        }

        function renderModel(model) {
            const photo = model.photo_url || PHOTOS[model.name] || DEFAULT_PHOTO;
            const hasVideo = model.youtube_link && model.youtube_link !== '';
            const has3D = model.matterport_link && model.matterport_link !== '';
            return `
                <div class="model-card">
                    <img class="model-image" src="${photo}" alt="${model.name}" onerror="this.src='${DEFAULT_PHOTO}'">
                    <div class="model-content">
                        <h3 class="model-name">${model.name}</h3>
                        <p class="model-desc">${model.description || ''}</p>
                        <div class="model-phrase">üè° ${model.sales_phrase || ''} üë´ ${model.ideal_client || ''}</div>
                        <div class="specs">
                            <div class="spec"><div class="spec-icon">üõèÔ∏è</div><div class="spec-value">${model.bedrooms || '-'}</div><div class="spec-label">Rec√°maras</div></div>
                            <div class="spec"><div class="spec-icon">üöø</div><div class="spec-value">${model.bathrooms || '-'}</div><div class="spec-label">Ba√±os</div></div>
                            <div class="spec"><div class="spec-icon">üìê</div><div class="spec-value">${model.area_m2 || '-'}</div><div class="spec-label">m¬≤</div></div>
                            <div class="spec"><div class="spec-icon">üè†</div><div class="spec-value">${model.floors || '-'}</div><div class="spec-label">Planta${model.floors > 1 ? 's' : ''}</div></div>
                        </div>
                        <div class="model-price">${formatPrice(model.price)} MXN</div>
                        <div class="buttons">
                            <a href="https://wa.me/${WHATSAPP}?text=Hola,%20me%20interesa%20el%20modelo%20${encodeURIComponent(model.name)}%20en%20${encodeURIComponent(DEVELOPMENT)}" class="btn btn-whatsapp" target="_blank">üí¨ WhatsApp</a>
                            <a href="${hasVideo ? model.youtube_link : '#'}" class="btn btn-video ${!hasVideo ? 'btn-disabled' : ''}" target="_blank">‚ñ∂Ô∏è ${hasVideo ? 'Ver Video' : 'Pr√≥ximamente'}</a>
                            <a href="${has3D ? model.matterport_link : '#'}" class="btn btn-3d ${!has3D ? 'btn-disabled' : ''}" target="_blank">üè† ${has3D ? 'Recorrido 3D' : 'Pr√≥ximamente'}</a>
                            <a href="${model.gps_link || '#'}" class="btn btn-location" target="_blank">üìç Ver Ubicaci√≥n</a>
                        </div>
                    </div>
                </div>`;
        }

        async function init() {
            try {
                const models = await fetchModels();
                if (models.length > 0) {
                    const minPrice = Math.min(...models.map(m => parseFloat(m.price)));
                    document.getElementById('hero-price').textContent = `Desde ${formatPrice(minPrice)} MXN`;
                    const validUntil = models[0].price_valid_until;
                    if (validUntil) {
                        const date = new Date(validUntil);
                        const monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
                        document.getElementById('footer-note').textContent = `Precios vigentes ${monthNames[date.getMonth()]} ${date.getFullYear()} | Incluye: Cocina integral, cl√≥sets, canceles en ba√±os`;
                    }
                    document.getElementById('models-container').innerHTML = models.map(renderModel).join('');
                } else {
                    document.getElementById('models-container').innerHTML = '<p class="loading">No se encontraron modelos.</p>';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('models-container').innerHTML = '<p class="loading">Error al cargar. Intente m√°s tarde.</p>';
            }
        }
        init();
    </script>
</body>
</html>
